{"version":3,"sources":["app/initialize.js"],"names":["document","addEventListener","submitTimeoutID","inputSource","querySelectorAll","nativizedResponse","submit","method","url","data","value","then","status","Error","innerHTML","catch","error","message","window","clearTimeout","setTimeout","keyCode","event","preventDefault"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;;;;;AAEAA,SAASC,gBAAT,CAA0B,kBAA1B,EAA8C,YAAM;AAClD,MAAIC,wBAAJ;AACA,MAAMC,cAAcH,SAASI,gBAAT,CAA0B,eAA1B,EAA2C,CAA3C,CAApB;AACA,MAAMC,oBAAoBL,SAASI,gBAAT,CAA0B,qBAA1B,EAAiD,CAAjD,CAA1B;AACA,MAAME,SAAS,SAATA,MAAS,GAAM;AACnB,yBAAM;AACJC,cAAQ,MADJ;AAEJC,WAAK,GAFD;AAGJC,YAAM,mBAAO,EAAC,QAAQN,YAAYO,KAArB,EAAP;AAHF,KAAN,EAIGC,IAJH,CAIQ,gBAAsB;AAAA,UAAnBF,IAAmB,QAAnBA,IAAmB;AAAA,UAAbG,MAAa,QAAbA,MAAa;;AAC5B,UAAIA,SAAS,GAAb,EAAkB,MAAM,IAAIC,KAAJ,CAAU,sCAAV,CAAN;AAClBR,wBAAkBS,SAAlB,GAA8B,kBAAML,IAAN,CAA9B;AACD,KAPD,EAOGM,KAPH,CAOS,iBAAS;AAChBV,wBAAkBS,SAAlB,GAA8BE,MAAMC,OAApC;AACD,KATD;AAUD,GAXD;AAYAd,cAAYF,gBAAZ,CAA6B,OAA7B,EAAsC,YAAM;AAC1C,QAAIC,eAAJ,EAAqBgB,OAAOC,YAAP,CAAoBjB,eAApB;AACrBA,sBAAkBgB,OAAOE,UAAP,CAAkBd,MAAlB,EAA0B,IAA1B,CAAlB;AACD,GAHD;AAIAH,cAAYF,gBAAZ,CAA6B,SAA7B,EACE;AAAA,QAAEoB,OAAF,SAAEA,OAAF;AAAA,WAAeA,WAAW,EAAX,IAAiBC,MAAMC,cAAN,EAAhC;AAAA,GADF;AAEApB,cAAYF,gBAAZ,CAA6B,OAA7B,EACE;AAAA,QAAEoB,OAAF,SAAEA,OAAF;AAAA,WAAeA,WAAW,EAAX,IAAiBf,QAAhC;AAAA,GADF;AAED,CAxBD","file":"public/app.js","sourcesContent":["import { parse, encode } from 'jsedn'\nimport axios from 'axios'\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  let submitTimeoutID;\n  const inputSource = document.querySelectorAll('#input-source')[0];\n  const nativizedResponse = document.querySelectorAll('#nativized-response')[0];\n  const submit = () => {\n    axios({\n      method: 'post',\n      url: '/',\n      data: encode({\"text\": inputSource.value })\n    }).then(({ data, status }) => {\n      if (status > 299) throw new Error('there was a problem with the request')\n      nativizedResponse.innerHTML = parse(data);\n    }).catch(error => {\n      nativizedResponse.innerHTML = error.message\n    })\n  }\n  inputSource.addEventListener('input', () => {\n    if (submitTimeoutID) window.clearTimeout(submitTimeoutID);\n    submitTimeoutID = window.setTimeout(submit, 1000);\n  })\n  inputSource.addEventListener('keydown',\n    ({keyCode}) => keyCode == 13 && event.preventDefault())\n  inputSource.addEventListener('keyup',\n    ({keyCode}) => keyCode == 13 && submit())\n});\n"]}